# PMOVES.AI Tier-Based Environment Configuration
# Base Environment File (env.shared)
# This file contains common environment variables for all tiers
#
# Usage: Source this file first, then source your tier-specific file
#
# Place at: env.shared in your submodule root

# ============================================================================
# PMOVES.AI Environment Configuration
# ============================================================================

# Environment identifier
PMOVES_ENV=${PMOVES_ENV:-production}
TIER=${TIER:-api}

# Service identity (override in service-specific env files)
SERVICE_NAME=${SERVICE_NAME:-your-service-name}
SERVICE_SLUG=${SERVICE_SLUG:-your-service-slug}

# ============================================================================
# Service Discovery (NATS)
# ============================================================================

NATS_URL=${NATS_URL:-nats://nats:pmoves@nats:4222}
NATS_JETSTREAM=${NATS_JETSTREAM:-true}
NATS_SUBJECT_PREFIX=${NATS_SUBJECT_PREFIX:-pmoves}

# ============================================================================
# LLM Gateway (TensorZero)
# ============================================================================

TENSORZERO_URL=${TENSORZERO_URL:-http://tensorzero-gateway:3030}
TENSORZERO_CLICKHOUSE_URL=${TENSORZERO_CLICKHOUSE_URL:-http://tensorzero-clickhouse:8123}

# ============================================================================
# GPU Orchestrator (if applicable)
# ============================================================================

GPU_ORCHESTRATOR_URL=${GPU_ORCHESTRATOR_URL:-http://gpu-orchestrator:8050}

# ============================================================================
# Data Services
# ============================================================================

# Qdrant (Vector Database)
QDRANT_URL=${QDRANT_URL:-http://qdrant:6333}
QDRANT_API_KEY=${QDRANT_API_KEY:-}

# Neo4j (Graph Database)
NEO4J_URL=${NEO4J_URL:-http://neo4j:7474}
NEO4J_USERNAME=${NEO4J_USERNAME:-neo4j}
NEO4J_PASSWORD=${NEO4J_PASSWORD:-neo4j}

# Meilisearch (Full-Text Search)
MEILISEARCH_URL=${MEILISEARCH_URL:-http://meilisearch:7700}
MEILISEARCH_API_KEY=${MEILISEARCH_API_KEY:-}

# MinIO (Object Storage)
MINIO_ENDPOINT=${MINIO_ENDPOINT:-http://minio:9000}
MINIO_ACCESS_KEY=${MINIO_ACCESS_KEY:-minioadmin}
MINIO_SECRET_KEY=${MINIO_SECRET_KEY:-minioadmin}
MINIO_REGION=${MINIO_REGION:-us-east-1}
MINIO_USE_SSL=${MINIO_USE_SSL:-false}

# ============================================================================
# Supabase (PostgREST + Database)
# ============================================================================

SUPABASE_URL=${SUPABASE_URL:-http://supabase_kong_PMOVES.AI:8000}
SUPABASE_ANON_KEY=${SUPABASE_ANON_KEY:-}
SUPABASE_SERVICE_KEY=${SUPABASE_SERVICE_KEY:-}
SUPABASE_DB_URL=${SUPABASE_DB_URL:-postgresql://postgres:${POSTGRES_PASSWORD}@postgres:5432/postgres}

# ============================================================================
# Monitoring & Observability
# ============================================================================

PROMETHEUS_URL=${PROMETHEUS_URL:-http://prometheus:9090}
PROMETHEUS_PUSHGATEWAY=${PROMETHEUS_PUSHGATEWAY:-http://prometheus:9091}
GRAFANA_URL=${GRAFANA_URL:-http://grafana:3000}
LOKI_URL=${LOKI_URL:-http://loki:3100}

# Metrics configuration
METRICS_ENABLED=${METRICS_ENABLED:-true}
METRICS_PATH=${METRICS_PATH:-/metrics}
METRICS_PORT=${METRICS_PORT:-9090}

# Logging
LOG_LEVEL=${LOG_LEVEL:-INFO}
LOG_FORMAT=${LOG_FORMAT:-json}

# ============================================================================
# Agent Zero (if applicable)
# ============================================================================

AGENT_ZERO_URL=${AGENT_ZERO_URL:-http://agent-zero:8080}
AGENT_ZERO_MCP_URL=${AGENT_ZERO_MCP_URL:-http://agent-zero:8080}
AGENT_ZERO_MCP_PATH=${AGENT_ZERO_MCP_PATH:-/mcp/*}

# ============================================================================
# Hi-RAG Gateway (if applicable)
# ============================================================================

HIRAG_V2_URL=${HIRAG_V2_URL:-http://hi-rag-gateway-v2:8086}
HIRAG_V1_URL=${HIRAG_V1_URL:-http://hi-rag-gateway:8089}

# ============================================================================
# Archon (if applicable)
# ============================================================================

ARCHON_URL=${ARCHON_URL:-http://archon:8091}

# ============================================================================
# Network Configuration
# ============================================================================

HTTP_PROXY=${HTTP_PROXY:-}
HTTPS_PROXY=${HTTPS_PROXY:-}
NO_PROXY=${NO_PROXY:-localhost,127.0.0.1,.local,.internal}

# ============================================================================
# Security
# ============================================================================

CHIT_ENVIRONMENT=${CHIT_ENVIRONMENT:-${PMOVES_ENV}}
CHIT_VAULT_ENDPOINT=${CHIT_VAULT_ENDPOINT:-http://chit-vault:8050}

# ============================================================================
# Timeouts & Limits
# ============================================================================

DEFAULT_TIMEOUT=${DEFAULT_TIMEOUT:-30}
REQUEST_TIMEOUT=${REQUEST_TIMEOUT:-60}
CONNECT_TIMEOUT=${CONNECT_TIMEOUT:-10}
MAX_RETRIES=${MAX_RETRIES:-3}

# ============================================================================
# Health Check Configuration
# ============================================================================

HEALTH_CHECK_INTERVAL=${HEALTH_CHECK_INTERVAL:-30}
HEALTH_CHECK_TIMEOUT=${HEALTH_CHECK_TIMEOUT:-5}
HEALTH_CHECK_PATH=${HEALTH_CHECK_PATH:-/healthz}
